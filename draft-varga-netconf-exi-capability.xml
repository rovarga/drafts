<?xml version="1.0" encoding="US-ASCII"?>
<!-- vi: set smarttab sw=4 tabstop=4: -->
<!DOCTYPE rfc SYSTEM "rfc2629.dtd">
<?rfc toc="yes"?>
<?rfc tocompact="yes"?>
<?rfc tocdepth="3"?>
<?rfc tocindent="yes"?>
<?rfc symrefs="yes"?>
<?rfc sortrefs="yes"?>
<?rfc comments="yes"?>
<?rfc inline="yes"?>
<?rfc compact="yes"?>
<?rfc subcompact="no"?>
<rfc category="std" docName="draft-varga-netconf-exi-capability-00" ipr="trust200902">
	<front>
		<title abbrev="EXI">
			NETCONF Extensions for Efficient XML Interchange
		</title>

		<author fullname="Robert Varga" initials="R." surname="Varga">
			<organization>Pantheon Technologies SRO</organization>
			<address>
				<postal>
					<street>Mlynske Nivy 56</street>
					<city>Bratislava</city>
					<code>821 05</code>
					<country>Slovakia</country>
				</postal>
				<email>robert.varga@pantheon.sk</email>
			</address>
		</author>

		<date day="7" month="July" year="2013" />

		<workgroup>NETCONF</workgroup>

		<abstract>
			<t>
				The Network Configuration Protocol (NETCONF) provides mechanisms to
				install, manipulate, and delete the configuration of network devices
				via exchange of XML messages. These messages are encoded as XML text
				documents, which makes the exchange easily understandable by human
				operators by simply observing them on the wire. Unfortunately, this
				also makes the protocol slightly less efficient, both from CPU and
				bandwidth usage point of view. This is a well-known weakness of XML
				documents, usually addressed by using external compression, such as
				deflate or gzip.
			</t>
			<t>
				<xref target="W3C.REC-exi-20110310">Efficient XML Interchange</xref>
				is a W3C Recommendation which defines a more efficient way of encoding
				XML Information Set than the usual text representation. This is
				achieved by a combination of reduced verbosity, binary encoding and,
				optionally, pruning of non-essential information like comments.
			</t>
			<t>
				This document defines a capability-based extension to the NETCONF
				protocol that allows peers to agree to exchange protocol messages
				using EXI encoding.
			</t>
		</abstract>

		<note title="Requirements Language">
			<t>
				The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT",
				"SHOULD", "SHOULD NOT", "RECOMMENDED", "MAY", and "OPTIONAL" in this
				document are to be interpreted as described in <xref target="RFC2119"/>.
			</t>
		</note>
	</front>

	<middle>
		<section title="Introduction">
			<t>
				<xref target="RFC5440"/> describes the Path Computation Element
				Protocol PCEP.  PCEP defines the communication between a Path Computation
				Client (PCC) and a Path Computation Element (PCE), or between PCE and PCE,
				enabling computation of Multiprotocol Label Switching (MPLS) Traffic
				Engineered Label Switched Paths (TE LSPs).
			</t>

			<t>
				<xref target='I-D.ietf-pce-gmpls-pcep-extensions'/> specifies a set of
				extensions to PCEP to enable its use in GMPLS networks. Among GMPLS-specific
				objects, it also defines GENERALIZED-BANDWIDTH and GENERALIZED-LOAD-BALANCE,
				as replacements for BANDWIDTH and LOAD-BALANCE objects defined in
				<xref target="RFC5440"/>. The definition is needed because <xref target="RFC5440"/>,
				does not provide any way of extending BANDWIDTH and LOAD-BALANCE objects,
				eventhough it provides extension points in all other objects it defines.
			</t>

			<t>
				<xref target='I-D.ietf-pce-gmpls-pcep-extensions'/> then defines a new
				definition of PCEP message format, which rolls into it all previously
				published PCEP extensions (like <xref target="RFC5521"/> and <xref target="RFC5541"/>).
				This places a requirement for any strictly-GMPLS compliant implementation to
				also understand all those extensions.
			</t>

			<t>
				This document describes an alternative approach, which works by allowing
				peers to negotiate the use of an updated definition of the BANDWIDTH and
				LOAD-BALANCE objects and their on-wire format, which meets the requirements
				set out in <xref target="I-D.ietf-pce-gmpls-aps-req"/>, while also providing
				extension points on-par with other objects defined in <xref target="RFC5440"/>.
			</t>

			<t>
				The motivation for this proposal is to take out the base protocol fixes
				from <xref target='I-D.ietf-pce-gmpls-pcep-extensions'/> and present them
				for use by other protocol extensions, without them needing to pull in all
				the other parts of GMPLS extensions. This will hopefully greatly simplify
				<xref target='I-D.ietf-pce-gmpls-pcep-extensions'/> and ease the job of
				implementing it within existing PCEP stacks.
			</t>
		</section>

		<section title="Terminology">
			<t>
				This document uses the following terms defined in <xref target="RFC5440"/>:
				PCC, PCE, PCEP Peer.
			</t>
			<t>
				This document uses the following terms defined in <xref target="RFC2210"/>:
				SENDER_TSPEC.
			</t>

			<t>
				The following terms are defined in this document:
				<list style="hanging">
					<t hangText="Traffic Specification:">
						A subobject which encapsulates an
						<xref target="RFC2210">RFC2210 SENDER_TSPEC object</xref>.
						Note that "object" here does not refer to a PCEP object,
						and to prevent confusion this text refers to that entity
						just as "SENDER_TSPEC".
					</t>
				</list>
			</t>
		</section>

		<section anchor="Capability" title="EXI Capability">
			<section anchor="Overview" title="Overview">
				<t>
					The :exi capability indicates that the peer supports EXI
					message encoding and is willing to use it when requested
					to do so. The capability has no effect on data being
					handled by the NETCONF protocol, nor does it affect
					protocol message exchanges.
				</t>
			</section>

			<section anchor="Dependencies" title="Dependencies">
				<t>
					EXI-encoded documents are binary data, this capability may
					only be used when the underlying transport is 8-bit clean.
					Notably this requires use of Chunked Framing mechanism as
					described in <xref target="RFC6242"/> when used with SSH
					transport.
				</t>
			</section>

			<section anchor="Identifier" title="Capability Identifier">
				<t>
					The EXI capability is identified by the following
					capability string:
				</t>
				<t>
					urn:ietf:params:netconf:capability:exi:1.0
				</t>
				<t>
					The identifier MAY have a the following parameters:
					<list style="hanging">
						<t hangText="compression">
							This indicates that the sender is willing to
							perform EXI compression. The parameter MUST contain
							a positive integral value, which indicates maximum
							compression block size which the peer can request.
						</t>
						<t hangText="schemas">
							This indicates that the sender can use
							schema-informed grammars for EXI encoding. The
							parameter MUST contain a value, which has to be
							one of "builtin" or "base:1.1". The value "builtin"
							indicates the ability to use the XML schema built
							into the EXI specification. The value of "base:1.1"
							is a superset of the "builtin" value and indicates
							that the sender additionally supports
							schema-informed EXI encoding, based on netconf.xsd
							schema published in <xref target="RFC6241"/>.
						</t>
					</list>
				</t>
				<t>
					Examples:
					<list style="empty">
						<t>
							urn:ietf:params:netconf:capability:exi:1.0?compression=1000000
						</t>
						<t>
							urn:ietf:params:netconf:capability:exi:1.0?schemas=builtin
						</t>
						<t>
							urn:ietf:params:netconf:capability:exi:1.0?schemas=base:1.1
						</t>
						<t>
							urn:ietf:params:netconf:capability:exi:1.0?compression=20000&amp;schemas=builtin
						</t>
					</list>
				</t>
			</section>
		</section>

		<section anchor="IANA-considerations" title="IANA considerations">
			<section anchor="PCEP-BANDWIDTH-Object" title="PCEP-BANDWIDTH Object">
				<t>This document defines a new format and semantics of PCEP-BANDWIDTH
					Object. These are a strict superset of original semantics.
				</t>
			</section>
		</section> 

		<section anchor="Security" title="Security Considerations">
			<t>
				The security considerations described in <xref target="RFC5440"></xref> 
				apply to the extensions described in this document. These extensions do
				not have any impact on security and threat models defined therein.
			</t>
		</section>

	</middle>

	<back>
		<references title="Normative References">
			<?rfc include="http://xml.resource.org/public/rfc/bibxml/reference.RFC.2119.xml"?>
			<?rfc include="http://xml.resource.org/public/rfc/bibxml/reference.RFC.2205.xml"?>
			<?rfc include="http://xml.resource.org/public/rfc/bibxml/reference.RFC.2210.xml"?>
			<?rfc include="http://xml.resource.org/public/rfc/bibxml/reference.RFC.6241.xml"?>
			<?rfc include="http://xml.resource.org/public/rfc/bibxml/reference.RFC.6242.xml"?>
			<?rfc include="http://xml.resource.org/public/rfc/bibxml/reference.RFC.4606.xml"?>
			<?rfc include="http://xml.resource.org/public/rfc/bibxml/reference.RFC.5440.xml"?>
			<?rfc include="http://xml.resource.org/public/rfc/bibxml/reference.RFC.5521.xml"?>
			<?rfc include="http://xml.resource.org/public/rfc/bibxml/reference.RFC.5541.xml"?>
			<?rfc include="http://xml.resource.org/public/rfc/bibxml/reference.RFC.6003.xml"?>
			<?rfc include="http://xml.resource.org/public/rfc/bibxml/reference.RFC.6003.xml"?>
			<?rfc include="http://xml.resource.org/public/rfc/bibxml4/reference.W3C.REC-exi-20110310.xml"?>
			<?rfc include="reference.I-D.ietf-pce-gmpls-aps-req"?>
			<?rfc include="reference.I-D.ietf-pce-gmpls-pcep-extensions"?>

		</references>

		<references title="Informative References">
			<?rfc include="http://xml.resource.org/public/rfc/bibxml/reference.RFC.5557.xml"?>
		</references>
	</back>
</rfc>

